<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MagicPaste</title>
    <link rel="preload" as="image" href="assets/magicpaste.png" />
    <link rel="preload" as="image" href="assets/magicpaste_cn.jpg" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap");

      :root {
        --ink: #111;
        --edge: clamp(12px, 3.5vw, 36px);
        --gap: clamp(8px, 1.8vw, 14px);
        --btn-padding-y: clamp(6px, 1.2vw, 10px);
        --btn-padding-x: clamp(12px, 2.4vw, 18px);
        --btn-font: clamp(12px, 1.6vw, 16px);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #f7f6f2;
      }

      body {
        font-family: "Patrick Hand", "Comic Neue", cursive;
        color: var(--ink);
      }

      .hero {
        position: fixed;
        inset: 0;
        z-index: 0;
      }

      .hero img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        display: block;
        pointer-events: none;
        user-select: none;
      }

      .nav-links {
        position: fixed;
        top: calc(var(--edge) + env(safe-area-inset-top));
        right: calc(var(--edge) + env(safe-area-inset-right));
        display: flex;
        flex-direction: column;
        gap: var(--gap);
        z-index: 2;
      }

      .lang-toggle {
        position: fixed;
        right: calc(var(--edge) + env(safe-area-inset-right));
        bottom: calc(var(--edge) + env(safe-area-inset-bottom));
        z-index: 2;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: var(--btn-padding-y) var(--btn-padding-x);
        font-size: var(--btn-font);
        text-decoration: none;
        color: var(--ink);
        background: transparent;
        border: 2px solid var(--ink);
        border-radius: 999px;
        box-shadow: 2px 2px 0 var(--ink);
        --tilt: 0deg;
        transform: rotate(var(--tilt));
        transition: transform 0.15s ease, box-shadow 0.15s ease;
        letter-spacing: 0.3px;
        cursor: pointer;
      }

      .btn:hover,
      .btn:focus-visible {
        transform: translate(1px, 1px) rotate(var(--tilt));
        box-shadow: 1px 1px 0 var(--ink);
        outline: none;
      }

      .btn:active {
        transform: translate(2px, 2px) rotate(var(--tilt));
        box-shadow: 0 0 0 var(--ink);
      }

      .nav-links .btn:nth-child(odd) {
        --tilt: -0.6deg;
      }

      .nav-links .btn:nth-child(even) {
        --tilt: 0.6deg;
      }

      .nav-links .btn:hover,
      .nav-links .btn:focus-visible,
      .nav-links .btn:active {
        transform: translate(1px, 1px) rotate(var(--tilt));
      }

      @media (max-width: 720px) {
        .nav-links {
          top: calc(var(--edge) + env(safe-area-inset-top));
          right: calc(var(--edge) + env(safe-area-inset-right));
        }
      }
    </style>
  </head>
  <body>
    <div class="hero">
      <img id="heroImage" src="assets/magicpaste.png" alt="MagicPaste" />
    </div>

    <nav class="nav-links" aria-label="Primary">
      <a
        class="btn"
        id="repoLink"
        href="https://github.com/xfey/MagicPaste"
        target="_blank"
        rel="noopener"
      >
        GitHub
      </a>
      <a
        class="btn"
        id="releaseLink"
        href="https://github.com/xfey/MagicPaste/releases"
        target="_blank"
        rel="noopener"
      >
        Releases
      </a>
    </nav>

    <button class="btn lang-toggle" id="langToggle" type="button" aria-pressed="false">
      中文/EN
    </button>

    <script>
      const heroImage = document.getElementById("heroImage");
      const repoLink = document.getElementById("repoLink");
      const releaseLink = document.getElementById("releaseLink");
      const langToggle = document.getElementById("langToggle");

      const languages = {
        en: {
          image: "assets/magicpaste.png",
          repoText: "GitHub",
          releaseText: "Releases",
          htmlLang: "en",
        },
        zh: {
          image: "assets/magicpaste_cn.jpg",
          repoText: "GitHub",
          releaseText: "下载",
          htmlLang: "zh-CN",
        },
      };

      let currentLang = "en";

      function applyLanguage(lang) {
        const data = languages[lang];
        if (!data) return;
        heroImage.src = data.image;
        repoLink.textContent = data.repoText;
        releaseLink.textContent = data.releaseText;
        document.documentElement.lang = data.htmlLang;
        langToggle.setAttribute("aria-pressed", String(lang === "zh"));
      }

      langToggle.addEventListener("click", () => {
        currentLang = currentLang === "en" ? "zh" : "en";
        applyLanguage(currentLang);
      });

      applyLanguage(currentLang);
    </script>
  </body>
</html>
